spring.application.name=casaglass-backend

# ============================================================
# üîß PERFIL ACTIVO
# ============================================================
# Para desarrollo local, activa el perfil 'dev'
# Para producci√≥n, usa 'prod' o variables de entorno
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ============================================================
# üîå CONEXI√ìN A BASE DE DATOS (Variables de entorno)
# ============================================================
# En desarrollo: usar application-dev.properties
# En producci√≥n: inyectar variables de entorno desde Docker
spring.datasource.url=${SPRING_DATASOURCE_URL:}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# ============================================================
# ‚öôÔ∏è CONFIGURACI√ìN JPA / HIBERNATE
# ============================================================
# Actualiza o crea las tablas autom√°ticamente sin borrar datos
spring.jpa.hibernate.ddl-auto=update

# Desactiva Open Session in View (mejor pr√°ctica)
spring.jpa.open-in-view=false

# Dialecto MariaDB
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect

# ============================================================
# üß† HIKARI CONNECTION POOL (optimizaci√≥n y diagn√≥stico)
# ============================================================
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.initialization-fail-timeout=0

# ============================================================
# üåé ZONA HORARIA Y FORMATO DE FECHAS
# ============================================================
# ‚ùå DESHABILITADO: Causaba bug de -1 d√≠a en LocalDate
# LocalDate NO debe tener timezone (es solo fecha, sin hora)
# Solo usar timezone para LocalDateTime/ZonedDateTime
# spring.jackson.time-zone=America/Bogota
spring.jpa.properties.hibernate.jdbc.time_zone=America/Bogota

# ============================================================
# üîí RECOMENDADO CUANDO HAY PROXY/CDN
# ============================================================
server.forward-headers-strategy=framework

# ============================================================
# ü©∫ ACTUATOR (para health/info)
# ============================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

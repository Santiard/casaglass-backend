spring.application.name=casaglass-backend

# ============================================================
#  PERFIL ACTIVO
# ============================================================
# Para desarrollo local, activa el perfil 'dev'
# Para producci贸n, usa 'prod' o variables de entorno
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ============================================================
#  CONEXIN A BASE DE DATOS (Variables de entorno)
# ============================================================
# En desarrollo: usar application-dev.properties
# En producci贸n: inyectar variables de entorno desde Docker
spring.datasource.url=${SPRING_DATASOURCE_URL:}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# ============================================================
# 锔 CONFIGURACIN JPA / HIBERNATE
# ============================================================
# Actualiza o crea las tablas autom谩ticamente sin borrar datos
spring.jpa.hibernate.ddl-auto=update

# Desactiva Open Session in View (mejor pr谩ctica)
spring.jpa.open-in-view=false

# Dialecto MariaDB
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect

# ============================================================
#  HIKARI CONNECTION POOL (optimizaci贸n y diagn贸stico)
# ============================================================
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.initialization-fail-timeout=0

# ============================================================
#  ZONA HORARIA Y FORMATO DE FECHAS
# ============================================================
spring.jackson.time-zone=America/Bogota
spring.jpa.properties.hibernate.jdbc.time_zone=America/Bogota

# ============================================================
#  RECOMENDADO CUANDO HAY PROXY/CDN
# ============================================================
server.forward-headers-strategy=framework

# ============================================================
# ┖ ACTUATOR (para health/info)
# ============================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

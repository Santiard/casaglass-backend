spring.application.name=casaglass-backend

# ============================================================
# 游댋 CONEXI칍N A BASE DE DATOS LOCAL (MariaDB/MySQL)
# ============================================================
spring.datasource.url=jdbc:mysql://localhost:3306/Proyecto1?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=America/Bogota
spring.datasource.username=root
spring.datasource.password=admin123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================================
# 丘뙖잺 CONFIGURACI칍N JPA / HIBERNATE
# ============================================================

# Actualiza o crea las tablas autom치ticamente sin borrar datos
spring.jpa.hibernate.ddl-auto=update

# Muestra las consultas SQL en consola (칰til para debug)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Desactiva Open Session in View (mejor pr치ctica)
spring.jpa.open-in-view=false

# Dialecto (usa MariaDBDialect que es m치s moderno y compatible)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ============================================================
# 游 CONFIGURACI칍N DE LOCKS PESIMISTAS PARA DESARROLLO
# ============================================================
# Timeout para locks pesimistas (5 segundos para desarrollo)
spring.jpa.properties.hibernate.jdbc.lock_timeout=5000
# Timeout para consultas con locks
spring.jpa.properties.hibernate.query.timeout=5000

# ============================================================
# 游 HIKARI CONNECTION POOL (optimizaci칩n y diagn칩stico)
# ============================================================
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.initialization-fail-timeout=0

# ============================================================
# 游깵 ZONA HORARIA Y FORMATO DE FECHAS
# ============================================================
spring.jackson.time-zone=America/Bogota
spring.jpa.properties.hibernate.jdbc.time_zone=America/Bogota

# ============================================================
# 游뽘 ACTUATOR (para health/info en desarrollo)
# ============================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
